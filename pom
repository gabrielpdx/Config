#!/bin/bash
WORK_FOR=2
REST_FOR=1

POMODORO="ğŸ…"
REST="ğŸ™"
WORK="ğŸ’ª"

if [[ ( -z "$poms" ) || ( $poms -eq 4 ) ]]
then
		poms=0
fi

setRestLength() {
		((poms++))
		if [ $poms -eq 4 ]
		then
				REST_FOR=4
		else
				REST_FOR=2
		fi
}

kernel=$(uname)
if [ $kernel = "Linux" ]
then
		echo "I'd just like to interject..."
		# freedom
elif [ $kernel = "Darwin" ]
then
		osascript -e 'display notification with title "ğŸ…"'
		sleep $WORK_FOR
		osascript -e 'display notification with title "ğŸ™"'
		setRestLength
		echo "$REST_FOR"
		sleep $REST_FOR
		osascript -e 'display notification with title "ğŸ’ª"'
else
		date "+ğŸ…  %H:%M:%S"
		sleep $WORK_FOR
		date "+ğŸ™  %H:%M:%S"
		setRestLength
		sleep $REST_FOR
		date "+ğŸ’ª  %H:%M:%S"		
fi
